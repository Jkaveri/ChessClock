<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Game Clock</title>

    <!-- Bootstrap -->
    <link href="css/bootstrap/bootstrap.min.css" rel="stylesheet" media="screen" />
    <!--<link href="css/bootstrap/bootstrap-responsive.css" rel="stylesheet" media="screen" />-->

    <!-- Font Awesome  -->
    <link href="css/fontawesome/css/font-awesome.min.css" rel="stylesheet" />

    <!-- Main -->
    <link href="css/main.min.css" rel="stylesheet" />
</head>
<body>
    <!--Simplest way to center vertically remains using a table -->


    <!--Main Div-->
    <div id="mainDiv" class="container-fluid pagination-centered">

        <div class="row-fluid" style="height: 13%">
            <button class="btn turnBtn"
                data-bind="{
                    click: p2turn,
                    css: {
                            'btn-success':gameState()==GameStates.p1turn,
                            'btn-inverse':gameState()==GameStates.p2turn,
                            'disabled':gameState()!=GameStates.p1turn
                        },
                    disable:gameState()!=GameStates.p1turn                     
                    }">
                <div data-bind="{visible: gameState()==GameStates.p1turn}" style="height: 100%">End Turn</div>
            </button>
        </div>
        <div id="p1time" class="row-fluid clock" style="height: 30%">

            <span data-bind="{text: p1.min}"></span>
            <span class="point">:</span>
            <span data-bind="{text: p1.sec}"></span>
            <span class="point">:</span>
            <span data-bind="{text: p1.mil}"></span>

        </div>
        <div class="row-fluid center" style="height: 15%; width: 50%; min-width: 320px; background: rgba(100,100,100,.6); position: relative; border-radius: 4px">
            <div class="row-fluid center span10 offset1" style="height: 100%">
                <button class="span4  btn game-button btn-inverse" data-bind="{click: play_pause}">
                    <i class="icon-play" data-bind="{visible: IsPaused()}"></i>
                    <i class="icon-pause" data-bind="{visible: !IsPaused()}"></i>
                    <!--Play/Pause-->
                </button>
                <button class="span4 btn game-button btn-inverse" data-bind="{click: reset}"><i class="icon-repeat"></i>
                    <!--Reset-->
                </button>
                <button class="span4 btn game-button btn-inverse"><i class="icon-cog"></i></button>
            </div>
        </div>
        <div class="row-fluid clock" style="height: 30%">

            <span data-bind="{text: p2.min}"></span>
            <span class="point">:</span>
            <span data-bind="{text: p2.sec}"></span>
            <span class="point">:</span>
            <span data-bind="{text: p2.mil}"></span>

        </div>
        <div class="row-fluid" style="height: 13%">
            <button class="btn turnBtn"
                data-bind="{
                    click: p1turn,
                    css: {
                          'btn-success':gameState()==GameStates.p2turn,
                          'btn-inverse':gameState()==GameStates.p1turn,
                          'disabled':gameState()!=GameStates.p2turn
                        },
                    disable:gameState()!=GameStates.p2turn     
                    }">
                <div data-bind="{visible: gameState()==GameStates.p2turn}" style="height: 100%">End Turn</div>
            </button>
        </div>
    </div>

</body>
<script src="Scripts/jquery/jquery-1.9.0.js"></script>
<script src="Scripts/bootstrap/bootstrap.js"></script>
<script src="Scripts/knockout/knockout-2.2.1.debug.js"></script>
<script src="Scripts/jquery.fittext.js"></script>
<script src="main.js"></script>
<script>
    $(function () {
        var vm = new ViewModel();
        ko.applyBindings(vm);


        function AdjustType() {
            jQuery(".turnBtn div").fitText(0.5);
            jQuery(".clock span").fitText(.5, { 'basedon': '#p1time' });
            jQuery(".game-button").fitText(.2);
        }

        $(window).on('resize', function () {
            AdjustType();
        });
        AdjustType();

        vm.gameState.subscribe(AdjustType);
    });

</script>
</html>
